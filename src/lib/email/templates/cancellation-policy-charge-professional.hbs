<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <title>Client Cancelled - Cancellation Fee Applied</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #f5f5f5;
        color: #313131;
        line-height: 1.6;
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
          'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
          sans-serif;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
      }
      .card-header {
        background-color: #ffffff;
        padding: 30px;
        text-align: center;
        border-radius: 8px 8px 0 0;
        border-bottom: 1px solid #ececec;
      }
      .info-icon {
        width: 60px;
        height: 60px;
        background-color: #3b82f6;
        border-radius: 50%;
        margin: 0 auto 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        font-weight: bold;
        color: white;
      }
      .card {
        background-color: #ffffff;
        margin: 0 0 20px 0;
        padding: 30px;
        border-radius: 0 0 8px 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .info-section {
        margin: 24px 0;
        padding: 20px;
        background-color: #fdf8ed;
        border-radius: 6px;
        border-left: 4px solid #dea85b;
      }
      .info-section h3 {
        margin: 0 0 16px 0;
        color: #dea85b;
        font-size: 18px;
        font-weight: bold;
      }
      .info-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 8px 0;
        padding: 8px 0;
        border-bottom: 1px solid #f3e8cd;
      }
      .info-row:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }
      .info-label {
        font-weight: 600;
        color: #5d6c6f;
        flex: 1;
      }
      .info-value {
        font-weight: 500;
        color: #313131;
        text-align: right;
        flex: 1;
      }
      .policy-section {
        margin: 24px 0;
        padding: 20px;
        background-color: #f0fdf4;
        border-radius: 6px;
        border-left: 4px solid #22c55e;
      }
      .policy-section h3 {
        margin: 0 0 16px 0;
        color: #16a34a;
        font-size: 18px;
        font-weight: bold;
      }
      .charge-amount {
        font-size: 24px;
        font-weight: bold;
        color: #16a34a;
        text-align: center;
        margin: 16px 0;
      }
      .reason-section {
        margin: 24px 0;
        padding: 20px;
        background-color: #f8f9fa;
        border-radius: 6px;
        border-left: 4px solid #6b7280;
      }
      .reason-label {
        font-weight: 600;
        color: #6b7280;
        margin-bottom: 8px;
      }
      .reason-text {
        color: #374151;
        font-style: italic;
        background-color: #ffffff;
        padding: 12px;
        border-radius: 4px;
        border-left: 3px solid #e5e7eb;
      }
      .footer {
        text-align: center;
        padding: 20px;
        color: #5d6c6f;
        font-size: 12px;
      }
      .support-text {
        margin: 24px 0 0 0;
        padding: 20px;
        background-color: #fafafa;
        border-radius: 6px;
        color: #5d6c6f;
        font-size: 14px;
        line-height: 1.5;
      }
    </style>
  </head>
  <body>
    <div class='container'>
      <div class='card-header'>
        <div class='info-icon'>â„¹</div>
        <h1
          style='color: #3b82f6; margin: 0; font-size: 28px; font-weight: bold;'
        >
          Client Cancelled Appointment
        </h1>
        <p style='margin: 10px 0 0 0; font-size: 16px; color: #5d6c6f;'>
          {{clientName}}
          cancelled their appointment and your cancellation policy was applied
        </p>
      </div>

      <div class='card'>
        <div class='info-section'>
          <h3>Cancelled Appointment Details</h3>
          <div class='info-row'>
            <div class='info-label'>Client:</div>
            <div class='info-value'>{{clientName}}</div>
          </div>
          {{#if clientPhone}}
            <div class='info-row'>
              <div class='info-label'>Client Phone:</div>
              <div class='info-value'>{{clientPhone}}</div>
            </div>
          {{/if}}
          <div class='info-row'>
            <div class='info-label'>Date:</div>
            <div class='info-value'>{{appointmentDate}}</div>
          </div>
          <div class='info-row'>
            <div class='info-label'>Time:</div>
            <div class='info-value'>{{appointmentTime}}</div>
          </div>
          <div class='info-row'>
            <div class='info-label'>Booking ID:</div>
            <div class='info-value'>{{bookingId}}</div>
          </div>
          {{#if services}}
            <div class='info-row'>
              <div class='info-label'>Services:</div>
              <div class='info-value'>
                {{#each services}}
                  {{name}}
                  (${{price}}){{#unless @last}}, {{/unless}}
                {{/each}}
              </div>
            </div>
          {{/if}}
        </div>

        {{#if cancellationReason}}
          <div class='reason-section'>
            <div class='reason-label'>Cancellation Reason:</div>
            <div class='reason-text'>"{{cancellationReason}}"</div>
          </div>
        {{/if}}

        {{#if policyInfo}}
          <div class='policy-section'>
            <h3>Cancellation Fee Applied</h3>
            <div class='charge-amount'>${{policyInfo.chargeAmount}}</div>
            <div class='info-row'>
              <div class='info-label'>Policy Rate:</div>
              <div class='info-value'>{{policyInfo.chargePercentage}}%</div>
            </div>
            <div class='info-row'>
              <div class='info-label'>Service Amount:</div>
              <div class='info-value'>${{policyInfo.serviceAmount}}</div>
            </div>
            <div class='info-row'>
              <div class='info-label'>Time Until Appointment:</div>
              <div class='info-value'>{{policyInfo.timeDescription}}</div>
            </div>
            <p style='margin: 12px 0; color: #059669; font-size: 14px;'>
              The cancellation fee has been charged to the client according to
              your cancellation policy. This amount will be processed and added
              to your next payout.
            </p>
          </div>
        {{/if}}

        <p class='support-text'>
          This time slot is now available for new bookings. Your cancellation
          policy helps protect your time and compensate for late cancellations.
          If you have questions about this cancellation or need to adjust your
          policies, please contact our support team.
        </p>
      </div>

      <div class='footer'>
        <p>This email was sent by The Suite</p>
        <p>{{websiteUrl}}</p>
      </div>
    </div>
  </body>
</html>